<% if notice.present? %>
  <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-lg inline-block"><%= notice %></p>
<% end %>

<!-- Fixed Position Plus Icon -->
    <%= link_to new_client_field_path, class: "fixed bottom-4 right-4 rounded-full p-2 shadow-lg z-50" do %>
      <%= image_tag 'plus.png', alt: 'Add Field', class: 'w-12 h-12' %>
    <% end %>

<div class="container mx-auto p-6">
  <div class="text-center mb-8">
    <h1 class="text-3xl font-semibold text-gray-800">Booking Lapangan Online Terbaik</h1>
  </div>

  <!-- Search Bar -->
  <form action="/fields" method="get" class="flex justify-center mb-4 bg-[#F8F9FA] p-4 rounded-full">
  
  <!-- Nama Venue -->
<input type="text" name="query[name]" placeholder="Nama Venue" class="px-4 py-2 border-r border-[#072243] w-1/3 text-[#072243] placeholder-[#072243]" />

<!-- Dropdown untuk Kota -->
<div class="relative w-1/3">
  <input type="text" name="query[city]" placeholder="Pilih Kota" class="px-4 py-2 border-r border-[#072243] w-full text-[#072243] placeholder-[#072243]" onclick="toggleDropdown('city-dropdown')" readonly />
  <div id="city-dropdown" class="absolute left-0 mt-1 w-full bg-white rounded-lg shadow-lg z-20 hidden">
    <ul>
      <% @cities.each do |city| %>
        <li class="block px-4 py-2 text-gray-800 hover:bg-gray-100 cursor-pointer" onclick="selectOption('query[city]', '<%= city %>', 'city-dropdown')"><%= city %></li>
      <% end %>
    </ul>
  </div>
</div>

<!-- Dropdown untuk Jenis Lapangan -->
<div class="relative w-1/3">
  <input type="text" name="query[field_type]" placeholder="Pilih Jenis Lapangan" class="px-4 py-2 border-r border-[#072243] w-full text-[#072243] placeholder-[#072243]" onclick="toggleDropdown('field-dropdown')" readonly />
  <div id="field-dropdown" class="absolute left-0 mt-1 w-full bg-white rounded-lg shadow-lg z-20 hidden">
    <ul>
      <% @field_types.each do |type| %>
        <li class="block px-4 py-2 text-gray-800 hover:bg-gray-100 cursor-pointer" onclick="selectOption('query[field_type]', '<%= type %>', 'field-dropdown')"><%= type %></li>
      <% end %>
    </ul>
  </div>
</div>

<!-- Button Search -->
<button class="px-4 py-2 bg-[#072243] text-white rounded-full ml-2">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>

  </form>

  <!-- Tampilan Lapangan -->
<div class="grid grid-cols-3 gap-6">
  <% @fields.each do |field| %>
    <div class="border rounded-lg overflow-hidden shadow hover:shadow-lg transition-shadow cursor-pointer">
      <%= link_to client_field_path(field), class: "block" do %>
        <!-- Gambar Lapangan -->
        <% if field.image.present? %>
        <%= image_tag field.image, class: "w-66 h-64 object-cover" %>
        <% else %>
        <p class="text-center text-gray-700">No file attached</p>
        <% end %>
                
        <!-- Informasi Lapangan -->
        <div class="p-4 bg-white">
        <!-- Tipe Lapangan -->
        <p class="text-sm text-[#072243] font-semibold"><%= field.field_type %></p>

          <!-- Nama Lapangan -->
          <h2 class="font-semibold text-gray-700 text-lg"><%= field.name %></h2>
          
          <!-- Alamat Lapangan -->
          <p class="text-sm text-gray-500"><%= field.address %></p>

          <!-- Kota -->
          <h2 class="text-sm text-gray-500 "><%= field.city %></h2>          
          
          <!-- Harga -->
          <p class="text-sm text-gray-500 mt-2">Mulai Dari <span class="font-semibold"><%= number_to_currency(field.price, unit: "Rp. ") %>/Sesi</span></p>
          
        </div>
      <% end %>
    </div>
  <% end %>
</div>

</div>
</div>
